# 3D Gaussian Splatting for Real-Time Radiance Field Rendering

|缩写|英文|中文|
|---|---|---|
|SfM|Structure-from-Motion||
|SH|spherical harmonics|球谐波|
||covariance matrix|协方差矩阵|

## 核心问题是什么?

### 现有方法及问题

辐射场方法最近彻底改变了用多张照片或视频采集的场景的新视角合成。然而，实现高视觉质量仍然需要训练和渲染成本高昂的神经网络，而最近更快的方法不可避免地会牺牲速度来换取质量。对于无界且完整的场景（而不是孤立的物体）和1080p分辨率渲染，当前没有方法可以实现实时显示速率。

### 本文方法

我们引入了三个关键要素，使我们能够在保持有竞争力的**训练时间**的同时实现最先进的**视觉质量**，并且重要的是允许在 1080p 分辨率下进行**高质量实时**（≥ 30 fps）新颖的视图合成。  
首先，从相机校准期间产生的稀疏点开始，我们用 3D 高斯表示场景，保留连续体积辐射场的所需属性以进行场景优化，同时避免在空白区域中进行不必要的计算；  
其次，我们对 3D 高斯进行交错优化/密度控制，特别是优化各向异性协方差以实现场景的准确表示；  
第三，我们开发了一种快速可见性感知渲染算法，该算法支持各向异性泼溅，既加速训练又允许实时渲染。

### 效果

我们在几个已建立的数据集上展示了最先进的视觉质量和实时渲染。

## 核心贡献是什么？

- 引入各向异性 3D 高斯作为辐射场的高质量、非结构化表示。  
- 3D 高斯属性的优化方法，与自适应密度控制交错，为捕获的场景创建高质量表示。  
- 快速、可微的渲染方法对于可见性感知的 GPU，允许各向异性泼溅和快速反向传播，以实现高质量的新颖视图合成。

## 大致方法是什么？

![](./assets/90c87fe420b7f068f6ef682c1ee5ed26_4_Figure_2_-1952255684.png)

输入：一组静态场景的图像

1. 由 SfM 校准的相应相机，会产生稀疏点云。  
2. 从SfM点云创建了一组 3D 高斯（第 4 节），由位置（均值）、协方差矩阵和不透明度 𝛼 定义这些高斯。  

> 这允许非常灵活的优化机制。这会产生 3D 场景的相当紧凑的表示，部分原因是高度**各向异性的体积片可用于紧凑地表示精细结构**。

3. 辐射场的方向外观分量（颜色）通过球谐函数 (SH) 表示。  
4. 通过 3D 高斯参数的一系列优化步骤来创建辐射场表示（第 5 节），即位置、协方差、𝛼 和 SH 系数与高斯密度自适应控制的操作交织在一起。
5. 基于图块的光栅化器（效率的关键）（第 6 节），让各向异性图块的𝛼混合，通过快速排序表示可见性顺序。  
> 快速光栅化器还包括通过跟踪累积的 𝛼 值进行快速向后传递，并且对可以接收梯度的高斯数量没有限制。

### 可微 3D 高斯Splatting

输入：没有法线信息的稀疏 (SfM) 点集  
输出：允许高质量新视角合成的场景表示，即一组 3D 高斯。  

#### 表示

选择3D高斯作为场景表示是因为：  
1. 具有可微分体积表示的属性  
2. 非结构化和显式的，以允许非常快速的渲染
3. 可以轻松投影到 2D splats，从而实现快速𝛼混合渲染

> 之前的类似工作使用带法线信息的2D平面圆。但SfM有时是难以估计比较准确的法线信息，因此给这些方法带来的困难。  

本文使用的3D高斯，由世界坐标系下的3D协方差矩阵和中心位置来描述。不需要包含法线信息。  

#### 渲染

输入：
- 世界坐标系到相机坐标系的变换为W
- 投影变换为J

相机坐标系下的协方差矩阵为：  

$$
\Sigma' = JW\Sigma J^\top W^\top
$$

> 文中提到一种简化方法，可以把协方差矩阵从 3 * 3 简化为 2 * 2。  

#### 优化

可以通过优化协方差矩阵，使3D高斯达到辐射场的效果。  

**优化过程中必须保证协方差矩阵是半正定的**，但梯度下降的优化方法会破坏协方差矩阵的的半正定性。  

因此，把协方差矩阵分解为：  

$$
\Sigma = RSS^\top R^\top
$$

从数学含义来讲，𝑆 为缩放矩阵，𝑅 旋转矩阵。把S和R分别存储和优化。其中S可以简化为向量，R需要满足旋转矩阵的特性。    

> 这种各向异性协方差的表示（适合优化）允许我们优化 3D 高斯以适应捕获场景中不同形状的几何形状，从而产生相当紧凑的表示。图 3 说明了这种情况。

### 通过 3D 高斯自适应密度控制进行优化

优化参数：
- 位置 𝑝
- 不透明度 𝛼   
- 协方差 Σ  
- 颜色 𝑐 的 SH 系数

**这些参数的优化与控制高斯密度的步骤交织在一起**，以更好地表示场景。

#### 优化

优化过程中“渲染”与“渲染结果与GT比较”交替进行。  

**3D 高斯协方差参数的质量对于表示的紧凑性至关重要，因为可以用少量大的各向异性高斯函数捕获大的均匀区域。**

**我们的快速光栅化（参见第 6 节）对于优化的效率至关重要，因为它是优化的主要计算瓶颈。**

1. 使用GPU加速以及为某些操作添加自定义 CUDA 内核，加速渲染过程  
2. 对 𝛼 使用 sigmoid 激活函数将其限制在 [0 − 1) 范围内并获得平滑梯度
3. 出于类似的原因，对协方差尺度使用指数激活函数。
4. 将初始协方差矩阵估计为各向同性高斯矩阵，其轴等于到最近三个点的距离的平均值。
5. 对position使用类似于 Plenoxels 的标准指数衰减调度技术。  
6. 损失函数是 L1 与 D-SSIM 项的结合

## 有效

## 缺陷

## 验证

## 启发

## 遗留问题

## 参考材料